<div class="achievements_background">
  <%= render '/layouts/navbar' %>
  <div class="achievements_container">
    <!-- Use @achievements for all achievements -->
    <!-- Use @user_achievements for current_user's achievements -->
    <!-- Use achievement.description for it's full name -->
    <!-- Use achievement.name for its shorthand identifier -->
    <!-- Use achievement.level for its difficulty (1-3) -->
    <!-- Use achievement.id for its sequential id -->
    <!-- Achievements are set in config/initializers/merit.rb -->
    <table class="achievements_table">
      <tbody>
        <% row = 0 %>
        <% column = 1 %>
        <% while row < (@achievements.length / 4 + 1) %>
          <tr class="achievement_row">
            <% while column < 5 %>
              <% if (row*4 + column) < @achievements.length + 1 %>
                <% achievement_id = row * 4 + column %>
                <td><center><%= image_tag 'achievement' + achievement_id.to_s + '.png', :class => @user_achievements.include?(Merit::Badge.find(achievement_id)) %></center></td>
              <% end %>
              <% column += 1 %>
            <% end %>
          </tr>
          <% column = 1 %>
          <tr class="achievement_text_row">
            <% while column < 5 %>
              <% if (row*4 + column) < @achievements.length + 1 %>
                <td><center><%= Merit::Badge.find(row*4 + column).description %></center></td>
              <% end %>
              <% column += 1 %>
            <% end %>
          </tr>
          <% column = 1 %>
          <% row += 1 %>
        <% end %>
      </tbody>
    </table>
  </div>
</div>